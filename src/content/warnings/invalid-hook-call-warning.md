---
title: Rules of Hooks
---

<<<<<<< HEAD:content/warnings/invalid-hook-call-warning.md
 ุฃูุช ุนูู ุงูุฃุฑุฌุญ ูููุง ุจุณุจุจ ุงูุฎุทุฃ ุงูุชุงูู:

 > Hooks can only be called inside the body of a function component. \
 > ููููู ุงุณุชูุฏุนุงุก ุงูุฎุทุงูุงุช ููุท ุฏุงุฎู ูููููู ุฏุงููุฉ.
=======
You are probably here because you got the following error message:

<ConsoleBlock level="error">

Hooks can only be called inside the body of a function component.

</ConsoleBlock>
>>>>>>> 543c7a0dcaf11e0400a9deb2465190467e272171:src/content/warnings/invalid-hook-call-warning.md

ูููุงู ุซูุงุซุฉ ุฃุณุจุงุจ ุดุงุฆุนู ูุธููุฑ ุงูุฎุทุฃ ุฃุนูุงู:

<<<<<<< HEAD:content/warnings/invalid-hook-call-warning.md
1. ููุฏูู **ููุณุฎ ุบูุฑ ููุชูุงููุฉ** ูู React ู React DOM.
2. ูุฏ ุชููู **ุชุฎุฑู [ููุงุนุฏ ุงูุฎุทุงูุงุช](/docs/hooks-rules.html)**.
3. ูู ุงูููุญุชูู ุฃู ูููู ูุฏูู **ุฃูุซุฑ ูู ูุณุฎุฉ React** ูู ููุณ ุงูุชุทุจูู.
=======
1. You might be **breaking the Rules of Hooks**.
2. You might have **mismatching versions** of React and React DOM.
3. You might have **more than one copy of React** in the same app.
>>>>>>> 543c7a0dcaf11e0400a9deb2465190467e272171:src/content/warnings/invalid-hook-call-warning.md

ุฏูุนูุง ููุธูุฑ ุฅูู ููู ูู ุงูุญุงูุงุช ุฃุนูุงู.

<<<<<<< HEAD:content/warnings/invalid-hook-call-warning.md
## ููุณุฎ ุบูุฑ ููุชูุงููุฉ ูู React ู React DOM {#mismatching-versions-of-react-and-react-dom}

ูุฏ ุชููู ุชุณุชุฎุฏู ูุณุฎุฉ `react-dom` ุฃูู ูู v16.8.0 ุฃู ููุณุฎุฉ `react-native` ุฃูู ูู 0.59 ูุงููููุชูุงูู ูุง ูุฏุนูุงู ุงูุฎุทุงูุงุช ุจุนุฏ. ูููููู ุชูููุฐ "run" ุฃูุฑ `npm ls react-dom` ุฃู `npm ls react-native` ูู ููุฌููุฏ ุงูุชุทุจูู ุฎุงุตุชู ููุนุฑูุฉ ุงูููุณุฎุฉ ุงูุชู ุชุณุชุฎุฏููุง. ุฅู ูุฌุฏุช ุฃูุซุฑ ูู ููุณุฎุฉ ููุฏ ูุฎูู ุฐูู ูุดุงูู (ุงููุฒูุฏ ุนูู ุฐูู ุฃุฏูุงู).

## ุฎุฑู ููุงุนุฏ ุงูุฎุทุงูุงุช {#breaking-the-rules-of-hooks}

ูููููู ุงุณุชุฏุนุงุก ุงูุฎุธุงูุงุช **ุฑูููุซูููุง ุชูุตููุฑ React ููููู ุฏุงููุฉ** ููุท:

* โ ุงุณุชุฏุนููู ูู ุงูููุชุณูู ุงูุฃุนูู ูู ุจุฏู "body" ูููููู ุงูุฏุงููุฉ:
* โ ุงุณุชุฏุนููู ูู ุงูููุณุชูู ุงูุฃุนูู ูู ุจุฏู [ุฎุทุงู ููุฎูุตุต](/docs/hooks-custom.html).

**ุชูุนููู ุงููุฒูุฏ ุนู ุฐูู ูู [ููุงุนุฏ ุงูุฎุทุงูุงุช](/docs/hooks-rules.html)**
=======
## Breaking Rules of Hooks {/*breaking-rules-of-hooks*/}

Functions whose names start with `use` are called [*Hooks*](/reference/react) in React.

**Donโt call Hooks inside loops, conditions, or nested functions.** Instead, always use Hooks at the top level of your React function, before any early returns. You can only call Hooks while React is rendering a function component:

* โ Call them at the top level in the body of a [function component](/learn/your-first-component).
* โ Call them at the top level in the body of a [custom Hook](/learn/reusing-logic-with-custom-hooks).
>>>>>>> 543c7a0dcaf11e0400a9deb2465190467e272171:src/content/warnings/invalid-hook-call-warning.md

```js{2-3,8-9}
function Counter() {
  // โ Good: top-level in a function component
  const [count, setCount] = useState(0);
  // ...
}

function useWindowWidth() {
  // โ Good: top-level in a custom Hook
  const [width, setWidth] = useState(window.innerWidth);
  // ...
}
```

<<<<<<< HEAD:content/warnings/invalid-hook-call-warning.md
ููุชูุฌูููุจ ุงูุฅุฑุจุงู ุ ุงุณุชุฏุนุงุก ุงูุฎุทุงูุงุช ูู ุงูุญุงูุงุช ุงูุฃูุฎุฑู **ููุณ** ูุฏุนูููุง:

* ๐ด ูุง ุชูุณุชุฏุนู ุงูุฎุทุงูุงุช ูู ูููููุงุช ุงูุตูู.
* ๐ด ูุง ุชุณุชุฏุนู ุงูุฎุทุงูุงุช ูู ููุนุงูููุงุช ุงูุฃุญุฏุงุซ "event handlers".
* ๐ด ูุง ุชุณุชุฏุนู ุงูุฎุทุงูุงุช ุฏุงุฎู ุงูุฏูุงู ุงูููููุฑูุฑุฉ ุฅูู `useMemo` ุฃู `useReducer` ุฃู `useEffect`.
=======
Itโs **not** supported to call Hooks (functions starting with `use`) in any other cases, for example:

* ๐ด Do not call Hooks inside conditions or loops.
* ๐ด Do not call Hooks after a conditional `return` statement.
* ๐ด Do not call Hooks in event handlers.
* ๐ด Do not call Hooks in class components.
* ๐ด Do not call Hooks inside functions passed to `useMemo`, `useReducer`, or `useEffect`.
>>>>>>> 543c7a0dcaf11e0400a9deb2465190467e272171:src/content/warnings/invalid-hook-call-warning.md

ุฅู ุฎุฑูุช ุชูู ุงูููุงุนุฏ ููู ุงูููููู ุงู ุชุฑู ูุฐุง ุงูุฎุทุฃ.

```js{3-4,11-12,20-21}
function Bad({ cond }) {
  if (cond) {
    // ๐ด Bad: inside a condition (to fix, move it outside!)
    const theme = useContext(ThemeContext);
  }
  // ...
}

function Bad() {
  for (let i = 0; i < 10; i++) {
    // ๐ด Bad: inside a loop (to fix, move it outside!)
    const theme = useContext(ThemeContext);
  }
  // ...
}

function Bad({ cond }) {
  if (cond) {
    return;
  }
  // ๐ด Bad: after a conditional return (to fix, move it before the return!)
  const theme = useContext(ThemeContext);
  // ...
}

function Bad() {
  function handleClick() {
    // ๐ด Bad: inside an event handler (to fix, move it outside!)
    const theme = useContext(ThemeContext);
  }
  // ...
}

function Bad() {
  const style = useMemo(() => {
    // ๐ด Bad: inside useMemo (to fix, move it outside!)
    const theme = useContext(ThemeContext);
    return createStyle(theme);
  });
  // ...
}

class Bad extends React.Component {
  render() {
    // ๐ด Bad: inside a class component (to fix, write a function component instead of a class!)
    useEffect(() => {})
    // ...
  }
}
```

<<<<<<< HEAD:content/warnings/invalid-hook-call-warning.md
ูููููู ุงุณุชุฎุฏุงู ูููุญู [`eslint-plugin-react-hooks` plugin](https://www.npmjs.com/package/eslint-plugin-react-hooks) ูุฃูุชูุงุท ุจุนุถูุง ูู ูุฐู ุงูุฃุฎุทุงุก.

>ูููุงุญุธุฉ
>
>[ุงูุฎุทุงูุงุช ุงูููุฎุตูุตุฉ](/docs/hooks-custom.html) *ูู ุงูููุญุชูู* ุฃู ุชุณุชุฏุนู ุฎุทุงูุงุช ุฃูุฎุฑู (ูุฐูู ูู ุงููุฏู ูููุง ุฃุณุงุณูุง). ูุนูู ุฐูู ูุฃูู ูู ุงูููุฑูุถ ุฃู ุงูุฎุทุงูุงุช ุงูููุฎุตูุตุฉ ุชูุณุชุฏุนู ููุท ุฑูููุซูููุง ููุตููููุฑ ูููู ููููู ุงูุฏุงููุฉ.
=======
You can use the [`eslint-plugin-react-hooks` plugin](https://www.npmjs.com/package/eslint-plugin-react-hooks) to catch these mistakes.

<Note>
>>>>>>> 543c7a0dcaf11e0400a9deb2465190467e272171:src/content/warnings/invalid-hook-call-warning.md

[Custom Hooks](/learn/reusing-logic-with-custom-hooks) *may* call other Hooks (that's their whole purpose). This works because custom Hooks are also supposed to only be called while a function component is rendering.

<<<<<<< HEAD:content/warnings/invalid-hook-call-warning.md
## ููุณุฎูุชูู ููู React {#duplicate-react}
=======
</Note>

## Mismatching Versions of React and React DOM {/*mismatching-versions-of-react-and-react-dom*/}

You might be using a version of `react-dom` (< 16.8.0) or `react-native` (< 0.59) that doesn't yet support Hooks. You can run `npm ls react-dom` or `npm ls react-native` in your application folder to check which version you're using. If you find more than one of them, this might also create problems (more on that below).

## Duplicate React {/*duplicate-react*/}
>>>>>>> 543c7a0dcaf11e0400a9deb2465190467e272171:src/content/warnings/invalid-hook-call-warning.md

ุญุชู ุชุนูู ุงูุฎุทุงูุงุช ุ ูุฌุจ ุงู ูููู ุงูุฑ ุงูุงุณุชูุฑุงุฏ "import" ูู ุดููุฑุฉ ุงูุชุทุจูู ุฎุงุตูุชูู ููุญููููู "resolve" ุฅูู ููุณ ุงููุงุฌูุฉ "module" ุงูุชู ูู ุฃูุฑ ุงูุงุณุชูุฑุงุฏ ุฏุงุฎู ุญูุฒูุฉ `react-dom`.

ุฅู ุญูููููุง ุฃูุฑุง ุงุณุชูุฑุงุฏ `react` ุฅูู ูุงุฆููู ุชุตุฏูุฑ ููุฎุชููููููู ุ ูุฃูู ุณุชุฑู ูุฐุง ุงูุฎุทุฃ. ูุญุฏุซ ุฐูู ุฅู **ูุงูุช ูุฏูู ูุณุฎุชุงู** ูู ุญูุฒูุฉ `react`. 

ุฅู ูููุช ุชุณุชุฎุฏู Node ูุชูุธูู ุงูุญูุฒู "package management" ุ ููููููู ุชูููุฐ ุงูุฃูุฑ ุงููุญุต ุงูุชุงูู ูู ููุฌููุฏ ุงููุดุฑูุญ ุฎุงุตูุชู:

<TerminalBlock>

npm ls react

</TerminalBlock>

ุฅู ูููุช ุชุฑู ุฃูุซุฑ ูู React ูุงุญุฏุฉ ููุฌุจ ุนููู ุฅูุชุดุงู ุณุจุจ ุญุตูู ุฐูู ู ุฅุตูุงุญ ุดูุฌุฑุฉ ุงูุฅุนุชูุงุฏูุงุช ุฎุงุตูุชู "dependency tree". ููู ุงูููููู ุฃู ุชููู ูููุชุจุฉ ุชูุณุชุฎุฏููููุง ุชูุญุฏุฏ `react` ูุฃุนุชูุงุฏูุฉ ููุจุงุดูุฑุฉ ุจุฏููุง ูู ุชุญุฏูุฏูุง ูุฃุนุชูุงุฏูุฉ ูุธูุฑุฉ. ุญุชู ูุชู ุฅุตูุงุญ ุชููู ุงููููุชุจุฉ ูุฃู [ุงูุชูุฑุงุญุงุช Yarn](https://yarnpkg.com/lang/en/docs/selective-version-resolutions/) ุชูุนุชุจุฑ ุญููุง ุจุฏูููุง.

ูููููู ุฃูุถูุง ููุนุงูุฌุฉ ูุฐู ุงูููุดููุฉ ูู ุฎูุงู ุฅุถุงูุฉ ุจุนุถ ุงูุณุฌูุงุช "logs" ู ุฅุนุงุฏุฉ ุชุดุบูู ุฎุงุฏูู ุงูุชุทููุฑ "development server":

```js
// Add this in node_modules/react-dom/index.js
window.React1 = require('react');

// Add this in your component file
require('react-dom');
window.React2 = require('react');
console.log(window.React1 === window.React2);
```

ุฅู ุทูุจูุนู `false` ูุฃููู ูู ุงูููููู ุฃู ูููู ูุฏูู ุงุซูุงู ูู React ู ุนููู ูุนุฑูุฉ ุณุจุจ ุญุตูู ุฐูู. [ูุฐู ุงูุชุฐูุฑู "issue"](https://github.com/facebook/react/issues/13991) ุชุญุชูู ุนูู ุจุนุถ ุงูุฃุณุจุงุจ ุงูุดุงุฆุนุฉ.

ูุฐู ุงูููุดููุฉ ูุฏ ุชุธูุฑ ุนูุฏ ุชูููุฐู ูุฃูุฑ `npm link` ุฃู ุฃูุฑูุง ูุดุงุจู ูู. ูู ุชูู ุงูุญุงูุฉ ุ ูุฃู ุงูููุฌููููุน "bundler" ูุฏ ููุฑู ุงุซูุงู React - ูุงุญุฏุฉ ูู ููุฌููุฏ ุงูุชุทุจูู ูุงูุฃูุฎุฑู ูู ููุฌููุฏ ุงูููุชุจุฉ. ุงุนุชูุจุงุฑูุง `myapp` ู `mylib` ููุฌููุฏุงู ุฅุฎูุฉ (ุนูู ููุณ ุงูููุณุชูู) ููุฏ ูููู ุชูููุฐ ุฃูุฑ `npm link ../myapp/node_modules/react` ูู `mylib` ุญููุง ููุญุชููููุง. ูููู ุฐูู ุจุฌุนู ุงูููุชุจุฉ ุชุณุชุฎุฏู ูุณุฎุฉ React ููุชุทุจูู. 

<<<<<<< HEAD:content/warnings/invalid-hook-call-warning.md
>ููุงุญุธุฉ
>
>ุบุงูุจูุง ุ ุชุฏุนู React ุงุณุชุฎุฏุงู ููุณุฎ ููุชุนุฏุฏุฉ ููููุตุฉ ุนูู ุตูุญุฉ ูุงุญุฏุฉ (ููุซูุงุ ุชูุณุชูุฎุฏูู React ูู ููุจูู ูู ูู ุชุทุจูู ููุงุฌูุฉ ูู ุงูุทุฑู ุงูุซุงูุซ "third-party widget"). ุชูุญุฏูุซ ุงููุดุงูู ููุท ุนูุฏูุง ููุญููููู `require('react')` ุฅูู ูุชูุฌุฉ ููุฎุชููุฉ ูู ุงููููููู ุนููุง ููุญููููู ูู ููุณุฎุฉ `react-dom` ุงูุชู ููุตููุฑูู.

## ุฃุณุจุงุจ ุฃูุฎุฑู {#other-causes}
=======
<Note>

In general, React supports using multiple independent copies on one page (for example, if an app and a third-party widget both use it). It only breaks if `require('react')` resolves differently between the component and the `react-dom` copy it was rendered with.

</Note>

## Other Causes {/*other-causes*/}
>>>>>>> 543c7a0dcaf11e0400a9deb2465190467e272171:src/content/warnings/invalid-hook-call-warning.md

ุฅู ูููุช ูุงุฒูุช ุชูุงุฌู ุงููุดุงููุ ุงูุฑุฌุงุก ุชุฑู ุชุนููู ูู [ูุฐู ุงูุชุฐูุฑู](https://github.com/facebook/react/issues/13991) ูุณูููุญุงูู ููุณุงุนุฏูุชูู. ุฅู ุฃูููุ ุญุงููู ุงูุดุงุก ูุซุงู ูุฅุนุงุฏุฉ ุฅูุชุงุฌ ุงูุฎุทุฃ ููุฏ ุชูุชุดู ุงูููุดููุฉ ุญูููุง.
