---
title: hydrateRoot
---

<Intro>

ØªÙ…ÙƒÙ†Ùƒ `hydrateRoot` Ù…Ù† Ø¹Ø±Ø¶ Ù…ÙƒÙˆÙ†Ø§Øª React ÙÙŠ Ø¹Ù†Ø§ØµØ± DOM Ø§Ù„ØªÙŠ ØªÙ… ØªÙˆÙ„ÙŠØ¯Ù‡Ø§ Ø³Ø§Ø¨Ù‚Ù‹Ø§ Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… [`react-dom/server`](/reference/react-dom/server) ÙÙŠ Ø§Ù„Ù…ØªØµÙØ­.

```js
const root = hydrateRoot(domNode, reactNode, options?)
```

</Intro>

<InlineToc />

---

## Ø§Ù„Ù…Ø±Ø¬Ø¹ {/*reference*/}

### `hydrateRoot(domNode, reactNode, options?)` {/*hydrateroot*/}

Ø§Ø³ØªØ¯Ø¹Ù `hydrateRoot` Ù„Ù€ "Ø±Ø¨Ø·" React Ø¨Ù€ HTML Ø§Ù„Ø­Ø§Ù„ÙŠ Ø§Ù„Ø°ÙŠ ØªÙ… Ø¹Ø±Ø¶Ù‡ Ø¨Ø§Ù„ÙØ¹Ù„ Ø¨ÙˆØ§Ø³Ø·Ø© React ÙÙŠ Ø¨ÙŠØ¦Ø© Ø§Ù„Ø®Ø§Ø¯Ù….

```js
import { hydrateRoot } from 'react-dom/client';

const domNode = document.getElementById('root');
const root = hydrateRoot(domNode, reactNode);
```

Ø³ÙŠÙ‚ÙˆÙ… React Ø¨Ø±Ø¨Ø· Ù†ÙØ³Ù‡ Ø¨Ø§Ù„HTML Ø§Ù„Ù…ÙˆØ¬ÙˆØ¯ Ø¯Ø§Ø®Ù„ Ø§Ù„Ù€ `domNode` ÙˆØ§Ù„Ø§Ù‡ØªÙ…Ø§Ù… Ø¨Ø¥Ø¯Ø§Ø±Ø© DOM Ø¯Ø§Ø®Ù„Ù‡Ø§. Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ù…Ø¨Ù†Ù‰ ÙƒØ§Ù…Ù„Ù‹Ø§ Ø¨ÙˆØ§Ø³Ø·Ø© React Ø³ÙŠÙƒÙˆÙ† Ù„Ø¯ÙŠÙ‡ Ø¹Ø§Ø¯Ø© Ø§Ø³ØªØ¯Ø¹Ø§Ø¡ ÙˆØ§Ø­Ø¯ ÙÙ‚Ø· Ù„Ù€ `hydrateRoot` Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù…ÙƒÙˆÙÙ‘Ù† Ø§Ù„Ø¬Ø°Ø± Ø§Ù„Ø®Ø§Øµ Ø¨Ù‡.

[Ø´Ø§Ù‡Ø¯ Ø§Ù„Ù…Ø²ÙŠØ¯ Ù…Ù† Ø§Ù„Ø£Ù…Ø«Ù„Ø© Ø£Ø¯Ù†Ø§Ù‡.](#usage)

#### Ø§Ù„Ù…Ø¹Ø§Ù…Ù„Ø§Øª {/*parameters*/}

* `domNode`: Ø¹Ù†ØµØ± [DOM](https://developer.mozilla.org/en-US/docs/Web/API/Element) Ø§Ù„Ø°ÙŠ ØªÙ… Ø¹Ø±Ø¶Ù‡ ÙƒØ¹Ù†ØµØ± Ø¬Ø°Ø± Ø¹Ù„Ù‰ Ø§Ù„Ø®Ø§Ø¯Ù….

* `reactNode`: "Ù…ÙÙƒÙˆÙÙ‘Ù† React" Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ù„Ø¹Ø±Ø¶ HTML Ø§Ù„Ø­Ø§Ù„ÙŠ. Ù‡Ø°Ø§ Ø¹Ø§Ø¯Ø©Ù‹ Ù…Ø§ ÙŠÙƒÙˆÙ† Ø¬Ø²Ø¡Ù‹Ø§ Ù…Ù† JSX Ù…Ø«Ù„ `<App />` Ø§Ù„Ø°ÙŠ ØªÙ… Ø¹Ø±Ø¶Ù‡ Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø·Ø±ÙŠÙ‚Ø© `ReactDOM Server` Ù…Ø«Ù„ `renderToPipeableStream(<App />)`.

* `options` **Ø§Ø®ØªÙŠØ§Ø±ÙŠ**: ÙƒØ§Ø¦Ù† ÙŠØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ Ø®ÙŠØ§Ø±Ø§Øª Ù„Ø¬Ø°Ø± React Ù‡Ø°Ø§.

<<<<<<< HEAD
  * `onRecoverableError` **Ø§Ø®ØªÙŠØ§Ø±ÙŠ**: Ø¯Ø§Ù„Ø© Ù…Ø±Ø¬Ø¹ÙŠØ© ØªÙØ³ØªØ¯Ø¹Ù‰ ØªÙ„Ù‚Ø§Ø¦ÙŠÙ‹Ø§ Ø¹Ù†Ø¯Ù…Ø§ ÙŠÙÙŠÙ‚ React Ù…Ù† Ø§Ù„Ø£Ø®Ø·Ø§Ø¡.
  * `identifierPrefix` **Ø§Ø®ØªÙŠØ§Ø±ÙŠ**: Ø¨Ø§Ø¯Ø¦Ø© Ù†ØµÙŠÙ‘Ø© ÙŠØ³ØªØ®Ø¯Ù…Ù‡Ø§ React Ù„Ù„Ù…Ø¹Ø±ÙØ§Øª Ø§Ù„ÙØ±ÙŠØ¯Ø© Ø§Ù„ØªÙŠ ØªÙ†Ø´Ø£ Ø¹Ù† Ø·Ø±ÙŠÙ‚ [`useId`](/reference/react/useId). Ù…ÙÙŠØ¯ Ù„ØªØ¬Ù†Ø¨ Ø§Ù„ØªØ¹Ø§Ø±Ø¶ Ø¹Ù†Ø¯ Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø¹Ø¯ÙŠØ¯ Ù…Ù† Ø§Ù„Ø¬Ø°ÙˆØ± ÙÙŠ Ù†ÙØ³ Ø§Ù„ØµÙØ­Ø©.
=======
  * <CanaryBadge title="This feature is only available in the Canary channel" /> **optional** `onCaughtError`: Callback called when React catches an error in an Error Boundary. Called with the `error` caught by the Error Boundary, and an `errorInfo` object containing the `componentStack`.
  * <CanaryBadge title="This feature is only available in the Canary channel" /> **optional** `onUncaughtError`: Callback called when an error is thrown and not caught by an Error Boundary. Called with the `error` that was thrown and an `errorInfo` object containing the `componentStack`.
  * **optional** `onRecoverableError`: Callback called when React automatically recovers from errors. Called with the `error` React throws, and an `errorInfo` object containing the `componentStack`. Some recoverable errors may include the original error cause as `error.cause`.
  * **optional** `identifierPrefix`: A string prefix React uses for IDs generated by [`useId`.](/reference/react/useId) Useful to avoid conflicts when using multiple roots on the same page. Must be the same prefix as used on the server.
>>>>>>> 556063bdce0ed00f29824bc628f79dac0a4be9f4


#### Ø§Ù„Ø¹Ø§Ø¦Ø¯Ø§Øª {/*returns*/}

ØªØ¹ÙŠØ¯ `hydrateRoot` ÙƒØ§Ø¦Ù†Ù‹Ø§ ÙŠØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ Ø·Ø±ÙŠÙ‚ØªÙŠÙ†: [`render`](#root-render) Ùˆ [`unmount`.](#root-unmount)

#### Ù…Ù„Ø§Ø­Ø¸Ø§Øª {/*caveats*/}

* `hydrateRoot()` ÙŠØªÙˆÙ‚Ø¹ Ø£Ù† ÙŠÙƒÙˆÙ† Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ù…Ø¹Ø±ÙˆØ¶ Ù…Ø·Ø§Ø¨Ù‚Ù‹Ø§ ØªÙ…Ø§Ù…Ù‹Ø§ Ù„Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ù…Ø±Ø³ÙˆÙ… ÙÙŠ Ø§Ù„Ø®Ø§Ø¯Ù…. ÙŠØ¬Ø¨ Ø¹Ù„ÙŠÙƒ Ø§Ù„ØªØ¹Ø§Ù…Ù„ Ù…Ø¹ Ø¹Ø¯Ù… Ø§Ù„ØªØ·Ø§Ø¨Ù‚Ø§Øª Ø¹Ù„Ù‰ Ø£Ù†Ù‡Ø§ Ø£Ø®Ø·Ø§Ø¡ ÙˆØ¥ØµÙ„Ø§Ø­Ù‡Ø§.
* ÙÙŠ ÙˆØ¶Ø¹ Ø§Ù„ØªØ·ÙˆÙŠØ±ØŒ ÙŠØ­Ø°Ø± React Ù…Ù† Ø§Ù„ØªØ·Ø§Ø¨Ù‚Ø§Øª Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„Ø±Ø¨Ø·. Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø¶Ù…Ø§Ù†Ø§Øª Ø¨Ø£Ù† Ø§Ù„Ø§Ø®ØªÙ„Ø§ÙØ§Øª ÙÙŠ Ø§Ù„Ø³Ù…Ø§Øª Ø³ØªÙƒÙˆÙ† Ù…ÙØµØ­ÙÙ‘Ø­Ø© ÙÙŠ Ø­Ø§Ù„Ø© Ø§Ù„ØªØ·Ø§Ø¨Ù‚Ø§Øª. Ù‡Ø°Ø§ Ù…Ù‡Ù… Ù„Ø£Ø³Ø¨Ø§Ø¨ Ø£Ø¯Ø§Ø¡ Ù„Ø£Ù†Ù‡ ÙÙŠ Ù…Ø¹Ø¸Ù… Ø§Ù„ØªØ·Ø¨ÙŠÙ‚Ø§ØªØŒ ÙŠÙƒÙˆÙ† Ø§Ù„Ø§Ø®ØªÙ„Ø§ÙØ§Øª Ù†Ø§Ø¯Ø±Ø©ØŒ ÙˆØ¨Ø§Ù„ØªØ§Ù„ÙŠ ÙØ¥Ù† Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØµØ­Ø© Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¹Ù„Ø§Ù…Ø§Øª Ù‚Ø¯ ÙŠÙƒÙˆÙ† ØµØ¹Ø¨Ù‹Ø§ Ø¬Ø¯Ù‹Ø§.
* Ù…Ù† Ø§Ù„Ù…Ø±Ø¬Ø­ Ø£Ù† Ù„Ø¯ÙŠÙƒ Ø§Ø³ØªØ¯Ø¹Ø§Ø¡ ÙˆØ§Ø­Ø¯ ÙÙ‚Ø· Ù„Ù€ `hydrateRoot` ÙÙŠ ØªØ·Ø¨ÙŠÙ‚Ùƒ. Ø¥Ø°Ø§ ÙƒÙ†Øª ØªØ³ØªØ®Ø¯Ù… Ø¥Ø·Ø§Ø± Ø¹Ù…Ù„ØŒ ÙÙ‚Ø¯ ÙŠØ³ØªØ¯Ø¹ÙŠÙ‡Ø§ Ø§Ù„Ø¥Ø·Ø§Ø± Ù†ÙŠØ§Ø¨Ø©Ù‹ Ø¹Ù†Ùƒ.
* Ø¥Ø°Ø§ ÙƒØ§Ù† ØªØ·Ø¨ÙŠÙ‚Ùƒ ÙŠÙØ±Ø³Ù… ÙÙŠ Ø¬Ø§Ù†Ø¨ Ø§Ù„Ø¹Ù…ÙŠÙ„ØŒ Ø¨Ø¯ÙˆÙ† Ø£ÙŠ Ù…Ø­ØªÙˆÙ‰ HTML Ø¨Ø§Ù„ÙØ¹Ù„ØŒ ÙØ§Ø³ØªØ®Ø¯Ø§Ù… `hydrateRoot()` Ù„ÙŠØ³ Ù…Ù†Ø§Ø³Ø¨Ù‹Ø§. Ø¨Ø¯Ù„Ø§Ù‹ Ù…Ù† Ø°Ù„ÙƒØŒ Ø§Ø³ØªØ®Ø¯Ù… [`createRoot()`](/reference/react-dom/client/createRoot).

---

### `root.render(reactNode)` {/*root-render*/}

Ø§Ø³ØªØ¯Ø¹Ù `root.render` Ù„ØªØ­Ø¯ÙŠØ« Ù…ÙƒÙˆÙ† React Ø¯Ø§Ø®Ù„ Ø¬Ø°Ø± React ÙÙŠ Ø¹Ù†ØµØ± DOM ÙÙŠ Ø§Ù„Ù…ØªØµÙØ­.

```js
root.render(<App />);
```

Ø³ØªØ­Ø¯Ø« React `<App />` ÙÙŠ `root` Ø§Ù„Ù…ÙØ¬ÙÙ…Ù‘Ø¹.

[Ø´Ø§Ù‡Ø¯ Ø§Ù„Ù…Ø²ÙŠØ¯ Ù…Ù† Ø§Ù„Ø£Ù…Ø«Ù„Ø© Ø£Ø¯Ù†Ø§Ù‡.](#usage)

#### Ø§Ù„Ù…Ø¹Ø§Ù…Ù„Ø§Øª {/*root-render-parameters*/}

* `reactNode`: *Ø¹Ù†ØµØ± React* Ø§Ù„Ø°ÙŠ ØªØ±ØºØ¨ ÙÙŠ Ø¹Ø±Ø¶Ù‡. Ø¹Ø§Ø¯Ø©Ù‹ Ù…Ø§ ÙŠÙƒÙˆÙ† Ù‡Ø°Ø§ Ø¬Ø²Ø¡Ù‹Ø§ Ù…Ù† JSX Ù…Ø«Ù„ `<App />`ØŒ ÙˆÙ„ÙƒÙ† ÙŠÙ…ÙƒÙ†Ùƒ Ø£ÙŠØ¶Ù‹Ø§ ØªÙ…Ø±ÙŠØ± Ø¹Ù†ØµØ± React Ø§Ù„Ù…ÙÙ†Ø´Ø£ Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… [`createElement()`](/reference/react/createElement)ØŒ Ø£Ùˆ Ù†Øµ Ø£Ùˆ Ø±Ù‚Ù… Ø£Ùˆ `null` Ø£Ùˆ `undefined`.


#### Ø§Ù„Ø¹Ø§Ø¦Ø¯Ø§Øª {/*root-render-returns*/}

ØªØ¹ÙŠØ¯ `root.render`: `undefined`.

#### Ù…Ù„Ø§Ø­Ø¸Ø§Øª {/*root-render-caveats*/}

* Ø¥Ø°Ø§ Ø§Ø³ØªØ¯Ø¹ÙŠØª `root.render` Ù‚Ø¨Ù„ Ø£Ù† ÙŠÙ†ØªÙ‡ÙŠ Ø§Ù„Ø¬Ø°Ø± Ù…Ù† Ø§Ù„Ø±Ø¨Ø· (hydrating)ØŒ ÙØ³ÙŠÙ‚ÙˆÙ… React Ø¨Ù…Ø³Ø­ Ù…Ø­ØªÙˆÙ‰ HTML Ø§Ù„Ù…Ø±Ø³ÙˆÙ… Ø¨Ø§Ù„ÙØ¹Ù„ Ù…Ù† Ø§Ù„Ø®Ø§Ø¯Ù… ÙˆØªØ­ÙˆÙŠÙ„ Ø§Ù„Ø¬Ø°Ø± Ø¨Ø£ÙƒÙ…Ù„Ù‡ Ø¥Ù„Ù‰ Ø§Ù„Ø±Ø³Ù…  Ù…Ù† Ø¬Ø§Ù†Ø¨ Ø§Ù„Ø¹Ù…ÙŠÙ„.

---

### `root.unmount()` {/*root-unmount*/}

Ø§Ø³ØªØ¯Ø¹Ù `root.unmount` Ù„ØªØ¯Ù…ÙŠØ± Ø´Ø¬Ø±Ø© Ù…Ø¹Ø±ÙˆØ¶Ø© Ø¯Ø§Ø®Ù„ Ø¬Ø°Ø± React.

```js
root.unmount();
```

Ø¹Ø§Ø¯Ø©Ù‹ØŒ Ù„Ù† ÙŠØ³ØªØ¯Ø¹ÙŠ ØªØ·Ø¨ÙŠÙ‚ Ù…Ø¨Ù†ÙŠ ÙƒØ§Ù…Ù„Ù‹Ø§ Ø¨Ù€ React `root.unmount`.

Ù‡Ø°Ø§ ÙŠÙƒÙˆÙ† Ù…ÙÙŠØ¯Ù‹Ø§ Ø¨Ø´ÙƒÙ„ Ø£Ø³Ø§Ø³ÙŠ Ø¥Ø°Ø§ ÙƒØ§Ù† Ø¹Ù†ØµØ± Ø¬Ø°Ø± React Ø§Ù„Ø®Ø§ØµØ© Ø¨Ùƒ (Ø£Ùˆ Ø£ÙŠ Ù…Ù† Ø§Ù„Ø¹Ù†Ø§ØµØ± Ø§Ù„Ø£Ø³Ù„Ø§Ù Ù„Ù‡Ø§) Ù‚Ø¯ ÙŠØªÙ… Ø¥Ø²Ø§Ù„ØªÙ‡Ø§ Ù…Ù† DOM Ø¨ÙˆØ§Ø³Ø·Ø© Ø¨Ø¹Ø¶ Ø§Ù„Ø£ÙƒÙˆØ§Ø¯ Ø§Ù„Ø£Ø®Ø±Ù‰. Ø¹Ù„Ù‰ Ø³Ø¨ÙŠÙ„ Ø§Ù„Ù…Ø«Ø§Ù„ØŒ ØªØ®ÙŠÙ„ Ø£Ù† Ù„Ø¯ÙŠÙƒ Ù„ÙˆØ­Ø© Ø¹Ù„Ø§Ù…Ø§Øª jQuery ØªÙ‚ÙˆÙ… Ø¨Ø¥Ø²Ø§Ù„Ø© Ø¹Ù„Ø§Ù…Ø§Øª ØºÙŠØ± Ù†Ø´Ø·Ø© Ù…Ù† DOM. Ø¥Ø°Ø§ ØªÙ…Øª Ø¥Ø²Ø§Ù„Ø© Ø¹Ù„Ø§Ù…Ø© Ù…Ø§ØŒ ÙØ¥Ù† ÙƒÙ„ Ù…Ø§ Ø¨Ø¯Ø§Ø®Ù„Ù‡Ø§ (Ø¨Ù…Ø§ ÙÙŠ Ø°Ù„Ùƒ Ø¬Ø°ÙˆØ± React Ø§Ù„Ø¯Ø§Ø®Ù„ÙŠØ©) Ø³ÙŠØªÙ… Ø¥Ø²Ø§Ù„ØªÙ‡ Ù…Ù† DOM Ø£ÙŠØ¶Ù‹Ø§. ÙÙŠ Ù‡Ø°Ù‡ Ø§Ù„Ø­Ø§Ù„Ø©ØŒ ØªØ­ØªØ§Ø¬ Ø¥Ù„Ù‰ Ø¥Ø®Ø¨Ø§Ø± React Ø¨Ø£Ù†Ù‡ ÙŠØ¬Ø¨ "Ø¥ÙŠÙ‚Ø§Ù" Ø¥Ø¯Ø§Ø±Ø© Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø¬Ø°Ø± Ø§Ù„Ù…Ø²Ø§Ù„ Ø¹Ù† Ø·Ø±ÙŠÙ‚ Ø§Ø³ØªØ¯Ø¹Ø§Ø¡ `root.unmount`. ÙˆØ¥Ù„Ø§ØŒ ÙØ¥Ù† Ø§Ù„Ù…ÙƒÙˆÙ†Ø§Øª Ø§Ù„Ø¯Ø§Ø®Ù„ÙŠØ© ÙÙŠ Ø§Ù„Ø¬Ø°Ø± Ø§Ù„Ù…Ø²Ø§Ù„ Ù„Ù† ØªØ¹Ø±Ù ÙƒÙŠÙÙŠØ© Ø§Ù„ØªÙ†Ø¸ÙŠÙ ÙˆØªØ­Ø±ÙŠØ± Ø§Ù„Ù…ÙˆØ§Ø±Ø¯ Ø§Ù„Ø¹Ø§Ù…Ø© Ù…Ø«Ù„ Ø§Ù„Ø§Ø´ØªØ±Ø§ÙƒØ§Øª.

Ø¹Ù†Ø¯ Ø§Ø³ØªØ¯Ø¹Ø§Ø¡ `root.unmount`ØŒ Ø³ÙŠØªÙ… Ø¥Ù„ØºØ§Ø¡ ØªØ«Ø¨ÙŠØª Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…ÙƒÙˆÙ†Ø§Øª ÙÙŠ Ø§Ù„Ø¬Ø°Ø±" Ùˆ"ÙØµÙ„" React Ø¹Ù† Ø¹Ù†ØµØ± DOM Ø§Ù„Ø¬Ø°Ø±ØŒ Ø¨Ù…Ø§ ÙÙŠ Ø°Ù„Ùƒ Ø¥Ø²Ø§Ù„Ø© Ø£ÙŠ Ù…Ø¹Ø§Ù„Ø¬Ø§Øª Ø£Ø­Ø¯Ø§Ø« Ø£Ùˆ Ø­Ø§Ù„Ø© ÙÙŠ Ø§Ù„Ø´Ø¬Ø±Ø©.


#### Ø§Ù„Ù…Ø¹Ø§Ù…Ù„Ø§Øª {/*root-unmount-parameters*/}

`root.unmount` Ù„Ø§ ØªØ³ØªÙ‚Ø¨Ù„ Ø£ÙŠ Ù…Ø¹Ø§Ù…Ù„Ø§Øª.


#### Ø§Ù„Ø¹Ø§Ø¦Ø¯Ø§Øª {/*root-unmount-returns*/}

ØªØ¹ÙŠØ¯ `root.unmount`: `undefined`.

#### Ù…Ù„Ø§Ø­Ø¸Ø§Øª {/*root-unmount-caveats*/}

* Ø§Ø³ØªØ¯Ø¹Ø§Ø¡ `root.unmount` Ø³ÙŠÙ„ØºÙŠ ØªØ«Ø¨ÙŠØª Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…ÙƒÙˆÙ†Ø§Øª ÙÙŠ Ø§Ù„Ø´Ø¬Ø±Ø© ÙˆÙŠÙØµÙ„ React Ø¹Ù† Ø¹Ù†ØµØ± DOM Ø§Ù„Ø¬Ø°Ø±.
* Ø¨Ù…Ø¬Ø±Ø¯ Ø§Ø³ØªØ¯Ø¹Ø§Ø¡ `root.unmount`ØŒ Ù„Ø§ ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ø³ØªØ¯Ø¹Ø§Ø¡ `root.render` Ù…Ø±Ø© Ø£Ø®Ø±Ù‰ Ø¹Ù„Ù‰ Ù†ÙØ³ Ø§Ù„Ø¬Ø°Ø±. Ø³ØªØ¤Ø¯ÙŠ Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ø³ØªØ¯Ø¹Ø§Ø¡ `root.render` Ø¹Ù„Ù‰ Ø¬Ø°Ø± ØºÙŠØ± Ù…Ø«Ø¨ØªØ© Ø¥Ù„Ù‰ Ø¥Ø·Ù„Ø§Ù‚ Ø®Ø·Ø£ "Cannot update an unmounted root". ÙˆÙ…Ø¹ Ø°Ù„ÙƒØŒ ÙŠÙ…ÙƒÙ†Ùƒ Ø¥Ù†Ø´Ø§Ø¡ Ø¬Ø°Ø± Ø¬Ø¯ÙŠØ¯ Ù„Ù†ÙØ³ Ø¹Ù†ØµØ± DOM Ø¨Ø¹Ø¯ Ø¥Ù„ØºØ§Ø¡ ØªØ«Ø¨ÙŠØª Ø§Ù„Ø¬Ø°Ø± Ø§Ù„Ø³Ø§Ø¨Ù‚Ø© Ù„Ø°Ù„Ùƒ Ø§Ù„Ø¹Ù†ØµØ±.

---

## Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù… {/*usage*/}

### Ø±Ø¨Ø· HTML ØªÙ… Ø±Ø³Ù…Ù‡ Ø¨Ø§Ù„Ø®Ø§Ø¯Ù… {/*hydrating-server-rendered-html*/}

Ø¥Ø°Ø§ ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ HTML ØªØ·Ø¨ÙŠÙ‚Ùƒ Ø¨ÙˆØ§Ø³Ø·Ø© [`react-dom/server`](/reference/react-dom/client/createRoot)ØŒ ÙØ³ØªØ­ØªØ§Ø¬ Ø¥Ù„Ù‰ *Ø±Ø¨Ø·Ù‡* ÙÙŠ Ø¬Ø§Ù†Ø¨ Ø§Ù„Ø®Ø§Ø¯Ù….

```js [[1, 3, "document.getElementById('root')"], [2, 3, "<App />"]]
import { hydrateRoot } from 'react-dom/client';

hydrateRoot(document.getElementById('root'), <App />);
```

Ø³ÙŠÙ‚ÙˆÙ… Ù‡Ø°Ø§ Ø¨Ø±Ø¨Ø· HTML Ø§Ù„Ø®Ø§Ø¯Ù… Ø¯Ø§Ø®Ù„ <CodeStep step={1}>Ø¹Ù†ØµØ± DOM Ø§Ù„Ù…ØªØµÙØ­</CodeStep> Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… <CodeStep step={2}>Ù…ÙƒÙˆÙÙ‘Ù† React</CodeStep> Ù„ØªØ·Ø¨ÙŠÙ‚Ùƒ. Ø¹Ø§Ø¯Ø©Ù‹ Ù…Ø§ ØªÙ‚ÙˆÙ… Ø¨ÙØ¹Ù„ Ø°Ù„Ùƒ Ù…Ø±Ø© ÙˆØ§Ø­Ø¯Ø© Ø¹Ù†Ø¯ Ø¨Ø¯Ø¡ Ø§Ù„ØªØ´ØºÙŠÙ„. Ø¥Ø°Ø§ ÙƒÙ†Øª ØªØ³ØªØ®Ø¯Ù… Ø¥Ø·Ø§Ø± Ø¹Ù…Ù„ Ù…Ø§ØŒ ÙÙ‚Ø¯ ÙŠÙ‚ÙˆÙ… Ø§Ù„Ø¥Ø·Ø§Ø± Ø¨Ø¹Ù…Ù„ Ù‡Ø°Ø§ Ø§Ù„Ø£Ù…Ø± Ø¨Ø§Ù„Ù†ÙŠØ§Ø¨Ø© Ø¹Ù†Ùƒ.

Ø¨Ù‡Ø°Ù‡ Ø§Ù„Ø·Ø±ÙŠÙ‚Ø©ØŒ Ø³ÙŠÙ‚ÙˆÙ… React Ø¨Ù€ "Ø±Ø¨Ø·" Ù…Ù†Ø·Ù‚ Ø§Ù„Ù…ÙƒÙˆÙÙ‘Ù†Ø§Øª Ø§Ù„Ø®Ø§ØµØ© Ø¨Ùƒ Ø¨Ø§Ù„Ù€ HTML Ø§Ù„Ø£ÙˆÙ„ÙŠ Ø§Ù„Ø°ÙŠ ØªÙ… Ø¥Ù†Ø´Ø§Ø¤Ù‡ Ù…Ù† Ø§Ù„Ø®Ø§Ø¯Ù…. ÙŠØ­ÙˆÙ„ Ø§Ù„Ø±Ø¨Ø·Ù Ù†Ø³Ø®Ø© HTML Ø§Ù„Ø£ÙˆÙ„ÙŠØ© Ù…Ù† Ø§Ù„Ø®Ø§Ø¯Ù… Ø¥Ù„Ù‰ ØªØ·Ø¨ÙŠÙ‚ Ù…ØªÙØ§Ø¹Ù„ Ø¨Ø§Ù„ÙƒØ§Ù…Ù„ ÙŠØ¹Ù…Ù„ ÙÙŠ Ø§Ù„Ù…ØªØµÙØ­.

<Sandpack>

```html public/index.html
<!--
  HTML content inside <div id="root">...</div>
  was generated from App by react-dom/server.
-->
<div id="root"><h1>Hello, world!</h1><button>You clicked me <!-- -->0<!-- --> times</button></div>
```

```js src/index.js active
import './styles.css';
import { hydrateRoot } from 'react-dom/client';
import App from './App.js';

hydrateRoot(
  document.getElementById('root'),
  <App />
);
```

```js src/App.js
import { useState } from 'react';

export default function App() {
  return (
    <>
      <h1>Hello, world!</h1>
      <Counter />
    </>
  );
}

function Counter() {
  const [count, setCount] = useState(0);
  return (
    <button onClick={() => setCount(count + 1)}>
      You clicked me {count} times
    </button>
  );
}
```

</Sandpack>

Ù„Ù† ØªØ­ØªØ§Ø¬ Ù„Ø§Ø³ØªØ¯Ø¹Ø§Ø¡ `hydrateRoot` Ù…Ø±Ø© Ø£Ø®Ø±Ù‰ ÙÙŠ Ø£ÙŠ Ù…ÙƒØ§Ù† Ø£Ø®Ø±. Ù…Ù† Ù‡Ø°Ù‡ Ø§Ù„Ù†Ù‚Ø·Ø© ÙØµØ§Ø¹Ø¯Ù‹Ø§ØŒ Ø³ÙŠÙ‚ÙˆÙ… React Ø¨Ø¥Ø¯Ø§Ø±Ø© DOM Ù„ØªØ·Ø¨ÙŠÙ‚Ùƒ. Ù„ØªØ­Ø¯ÙŠØ« ÙˆØ§Ø¬Ù‡Ø© Ù…Ø³ØªØ®Ø¯Ù…ØŒ Ø³ØªÙ‚ÙˆÙ… Ø§Ù„Ù…ÙƒÙˆÙÙ‘Ù†Ø§Øª Ø§Ù„Ø®Ø§ØµØ© Ø¨Ùƒ [Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø­Ø§Ù„Ø©](/reference/react/useState) Ø¨Ø¯Ù„Ø§Ù‹ Ù…Ù† Ø°Ù„Ùƒ.

<Pitfall>

Ø¹Ù†ØµØ± React Ø§Ù„Ø°ÙŠ ØªÙ…Ø±Ø±Ù‡ Ø¥Ù„Ù‰ `hydrateRoot` ÙŠØ­ØªØ§Ø¬ Ø¥Ù„Ù‰ Ø¥Ù†ØªØ§Ø¬ **Ù†ÙØ³ Ø§Ù„Ù†ØªÙŠØ¬Ø©** Ø§Ù„ØªÙŠ Ø­Ù‚Ù‚Ù‡Ø§ Ø¹Ù†Ø¯ Ø§Ù„Ø®Ø§Ø¯Ù….

Ù‡Ø°Ø§ Ù…Ù‡Ù… Ù„ØªØ¬Ø±Ø¨Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…. Ø³ÙŠÙ‚Ø¶ÙŠ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø¨Ø¹Ø¶ Ø§Ù„ÙˆÙ‚Øª ÙÙŠ Ø§Ù„Ù†Ø¸Ø± Ø¥Ù„Ù‰ HTML Ø§Ù„Ø°ÙŠ ØªÙ… Ø¥Ù†Ø´Ø§Ø¤Ù‡ Ù…Ù† Ø§Ù„Ø®Ø§Ø¯Ù… Ù‚Ø¨Ù„ ØªØ­Ù…ÙŠÙ„ ÙƒÙˆØ¯ JavaScript Ø§Ù„Ø®Ø§Øµ Ø¨Ùƒ. ÙŠØ®Ù„Ù‚ Ø§Ù„Ø±Ø³Ù… Ù…Ù† Ø¬Ø§Ù†Ø¨ Ø§Ù„Ø®Ø§Ø¯Ù… ÙˆÙ‡Ù…Ù‹Ø§ Ø¨Ø£Ù† Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ ÙŠØ­Ù…Ù„ Ø¨Ø´ÙƒÙ„ Ø£Ø³Ø±Ø¹ Ø¹Ù† Ø·Ø±ÙŠÙ‚ Ø¹Ø±Ø¶ Ù†Ø³Ø®Ø© HTML Ø§Ù„Ù…ÙÙ…Ù†ØªØ¬. Ø¥Ø¸Ù‡Ø§Ø± Ù…Ø­ØªÙˆÙ‰ Ù…Ø®ØªÙ„Ù ÙØ¬Ø£Ø© ÙŠÙƒØ³Ø± Ù‡Ø°Ø§ Ø§Ù„ÙˆÙ‡Ù…. Ù„Ù‡Ø°Ø§ Ø§Ù„Ø³Ø¨Ø¨ØŒ ÙŠØ¬Ø¨ Ø£Ù† ÙŠØªØ·Ø§Ø¨Ù‚ Ø¥Ø®Ø±Ø§Ø¬ Ø±Ø³Ù… Ø§Ù„Ø®Ø§Ø¯Ù… Ù…Ø¹ Ø¥Ø®Ø±Ø§Ø¬ Ø§Ù„Ø±Ø³Ù… Ø§Ù„Ø£ÙˆÙ„ÙŠ Ø¹Ù„Ù‰ Ø§Ù„Ø¹Ù…ÙŠÙ„.

Ø£ÙƒØ«Ø± Ø§Ù„Ø£Ø³Ø¨Ø§Ø¨ Ø´ÙŠÙˆØ¹Ù‹Ø§ Ø§Ù„ØªÙŠ ØªØ¤Ø¯ÙŠ Ø¥Ù„Ù‰ Ø­Ø¯ÙˆØ« Ø£Ø®Ø·Ø§Ø¡ Ø§Ù„Ø±Ø¨Ø· ØªØ´Ù…Ù„:

* ÙØ±Ø§Øº Ø¥Ø¶Ø§ÙÙŠ (Ù…Ø«Ù„ Ø§Ù„Ø£Ø³Ø·Ø± Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©) Ø­ÙˆÙ„ HTML Ø§Ù„Ù…ÙÙ†ØªÙØ¬ Ø¨ÙˆØ§Ø³Ø·Ø© React Ø¯Ø§Ø®Ù„ Ø§Ù„Ø¹Ù†ØµØ± Ø§Ù„Ø¬Ø°Ø±.
* Ø§Ø³ØªØ®Ø¯Ø§Ù… ÙØ­ÙˆØµ Ù…Ø«Ù„ `typeof window !== 'undefined'` ÙÙŠ Ù…Ù†Ø·Ù‚ Ø§Ù„Ø±Ø³Ù… Ø§Ù„Ø®Ø§Øµ Ø¨Ùƒ.
* Ø§Ø³ØªØ®Ø¯Ø§Ù… ÙˆØ§Ø¬Ù‡Ø§Øª Ø¨Ø±Ù…Ø¬Ø© ØªØ·Ø¨ÙŠÙ‚Ø§Øª Ù…Ø¹ØªÙ…Ø¯Ø© Ø¹Ù„Ù‰ Ø§Ù„Ù…ØªØµÙØ­ Ù…Ø«Ù„ [`window.matchMedia`](https://developer.mozilla.org/en-US/docs/Web/API/Window/matchMedia) ÙÙŠ Ù…Ù†Ø·Ù‚ Ø§Ù„Ø±Ø³Ù… Ø§Ù„Ø®Ø§Øµ Ø¨Ùƒ.
* Ø¹Ø±Ø¶ Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ø®ØªÙ„ÙØ© Ø¹Ù„Ù‰ Ø§Ù„Ø®Ø§Ø¯Ù… ÙˆØ§Ù„Ø¹Ù…ÙŠÙ„.

ÙŠÙ‚ÙˆÙ… React Ø¨Ø§Ù„ØªØ¹Ø§ÙÙŠ Ù…Ù† Ø¨Ø¹Ø¶ Ø£Ø®Ø·Ø§Ø¡ Ø§Ù„Ø±Ø¨Ø·ØŒ ÙˆÙ„ÙƒÙ† ÙŠØ¬Ø¨ Ø¹Ù„ÙŠÙƒ **Ø¥ØµÙ„Ø§Ø­Ù‡Ø§ Ù…Ø«Ù„ Ø§Ù„Ø£Ø®Ø·Ø§Ø¡ Ø§Ù„Ø£Ø®Ø±Ù‰**. ÙÙŠ Ø£ÙØ¶Ù„ Ø§Ù„Ø­Ø§Ù„Ø§ØªØŒ Ø³ØªØ¤Ø¯ÙŠ Ø¥Ù„Ù‰ Ø¥Ø¨Ø·Ø§Ø¡ Ø§Ù„Ø£Ø¯Ø§Ø¡. ÙÙŠ Ø£Ø³ÙˆØ£ Ø§Ù„Ø­Ø§Ù„Ø§ØªØŒ ÙŠÙ…ÙƒÙ† Ø£Ù† ØªØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬Ø§Øª Ø¥Ù„Ù‰ Ø§Ù„Ø¹Ù†Ø§ØµØ± Ø§Ù„Ø®Ø§Ø·Ø¦Ø©.

</Pitfall>

---

### Ø±Ø¨Ø· Ù…Ø³ØªÙ†Ø¯ Ø¨Ø£ÙƒÙ…Ù„Ù‡ {/*hydrating-an-entire-document*/}

ÙŠÙ…ÙƒÙ† Ù„Ù„ØªØ·Ø¨ÙŠÙ‚Ø§Øª Ø§Ù„Ù…ÙØ¨Ù†ÙÙ‘ÙŠØ© Ø¨Ø§Ù„ÙƒØ§Ù…Ù„ Ø¨ÙˆØ§Ø³Ø·Ø© React Ø£Ù† ØªØ¹Ø±Ø¶ Ø§Ù„Ù…Ø³ØªÙ†Ø¯ Ø¨Ø£ÙƒÙ…Ù„Ù‡ Ø¹Ù„Ù‰ Ø´ÙƒÙ„ JSXØŒ Ø¨Ù…Ø§ ÙÙŠ Ø°Ù„Ùƒ Ø§Ù„Ø¹Ù„Ø§Ù…Ø© [`<html>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/html) :

```js {3,13}
function App() {
  return (
    <html>
      <head>
        <meta charSet="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <link rel="stylesheet" href="/styles.css"></link>
        <title>ØªØ·Ø¨ÙŠÙ‚ÙŠ</title>
      </head>
      <body>
        <Router />
      </body>
    </html>
  );
}
```

Ù„Ø±Ø¨Ø· Ø§Ù„Ù…Ø³ØªÙ†Ø¯ Ø¨Ø£ÙƒÙ…Ù„Ù‡ØŒ Ù…Ø±Ø± Ø§Ù„ÙƒØ§Ø¦Ù† Ø§Ù„Ø¹Ø§Ù… (`document`) ÙƒØ£ÙˆÙ„ Ù…Ø¹Ø§Ù…Ù„ Ø¥Ù„Ù‰ `hydrateRoot`:

```js {4}
import { hydrateRoot } from 'react-dom/client';
import App from './App.js';

hydrateRoot(document, <App />);
```

---

### ÙƒØªÙ… ØªØ­Ø°ÙŠØ±Ø§Øª Ø§Ù„Ø±Ø¨Ø· ØºÙŠØ± Ø§Ù„Ù…Ø±ØªØ¨Ø·Ø© Ø¨Ø§Ù„Ø±Ø¨Ø· {/*suppressing-unavoidable-hydration-mismatch-errors*/}

Ø¥Ø°Ø§ ÙƒØ§Ù† Ù‡Ù†Ø§Ùƒ Ø§Ø®ØªÙ„Ø§Ù Ø¶Ø±ÙˆØ±ÙŠ Ø¨ÙŠÙ† Ø³Ù…Ø© Ø¹Ù†ØµØ± ÙˆØ§Ø­Ø¯ Ø£Ùˆ Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ù†Øµ Ø¨ÙŠÙ† Ø§Ù„Ø®Ø§Ø¯Ù… ÙˆØ§Ù„Ø¹Ù…ÙŠÙ„ (Ø¹Ù„Ù‰ Ø³Ø¨ÙŠÙ„ Ø§Ù„Ù…Ø«Ø§Ù„ ØŒ Ø§Ù„Ø·Ø§Ø¨Ø¹ Ø§Ù„Ø²Ù…Ù†ÙŠ)ØŒ ÙÙŠÙ…ÙƒÙ†Ùƒ Ø¥Ø³ÙƒØ§Øª ØªØ­Ø°ÙŠØ±Ø§Øª Ø§Ù„Ø±Ø¨Ø· ØºÙŠØ± Ø§Ù„Ù…Ø±ØªØ¨Ø·Ø© Ø¨Ø§Ù„Ø±Ø¨Ø·.

Ù„ÙƒØªÙ… ØªØ­Ø°ÙŠØ±Ø§Øª Ø§Ù„Ø±Ø¨Ø· Ø¹Ù„Ù‰ Ø¹Ù†ØµØ± Ù…Ø§ØŒ Ø£Ø¶Ù `suppressHydrationWarning={true}`:

<Sandpack>

```html public/index.html
<!--
  HTML content inside <div id="root">...</div>
  was generated from App by react-dom/server.
-->
<div id="root"><h1>Current Date: <!-- -->01/01/2020</h1></div>
```

```js src/index.js
import './styles.css';
import { hydrateRoot } from 'react-dom/client';
import App from './App.js';

hydrateRoot(document.getElementById('root'), <App />);
```

```js src/App.js active
export default function App() {
  return (
    <h1 suppressHydrationWarning={true}>
      Current Date: {new Date().toLocaleDateString()}
    </h1>
  );
}
```

</Sandpack>

Ù‡Ø°Ø§ ÙŠØ¹Ù…Ù„ ÙÙ‚Ø· Ù„Ø¹Ù†ØµØ± ÙˆØ§Ø­Ø¯ Ø¹Ù…ÙŠÙ‚ØŒ ÙˆÙ…Ù‚ØµÙˆØ¯ Ø£Ù† ÙŠÙƒÙˆÙ† Ù‡Ø±ÙˆØ¨Ù‹Ø§. Ù„Ø§ ØªØ³ØªØ®Ø¯Ù…Ù‡ Ø¨ÙƒØ«Ø±Ø©. Ù…Ø§ Ù„Ù… ÙŠÙƒÙ† Ù‡Ùˆ Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ù†ØµØŒ ÙØ¥Ù† React Ù„Ù† ÙŠØ­Ø§ÙˆÙ„ ØªØµØ­ÙŠØ­Ù‡ØŒ ÙˆØ¨Ø§Ù„ØªØ§Ù„ÙŠ Ù‚Ø¯ ÙŠØ¸Ù„ ØºÙŠØ± Ù…ØªØ³Ù‚ Ø­ØªÙ‰ Ø§Ù„ØªØ­Ø¯ÙŠØ«Ø§Øª Ø§Ù„Ù…Ø³ØªÙ‚Ø¨Ù„ÙŠØ©.

---

### Ø§Ù„ØªØ¹Ø§Ù…Ù„ Ù…Ø¹ Ù…Ø­ØªÙˆÙ‰ Ù…Ø®ØªÙ„Ù Ø¨ÙŠÙ† Ø§Ù„Ø¹Ù…ÙŠÙ„ ÙˆØ§Ù„Ø®Ø§Ø¯Ù… {/*handling-different-client-and-server-content*/}

Ø¥Ø°Ø§ ÙƒÙ†Øª Ø¨Ø­Ø§Ø¬Ø© Ø¥Ù„Ù‰ Ø·Ø±Ø­ Ø´ÙŠØ¡ Ù…Ø®ØªÙ„Ù Ø¹Ù†Ø¯ Ø§Ù„Ø®Ø§Ø¯Ù… ÙˆØ§Ù„Ø¹Ù…ÙŠÙ„ Ø¨ØµÙˆØ±Ø© Ù…Ù‚ØµÙˆØ¯Ø©ØŒ ÙÙŠÙ…ÙƒÙ†Ùƒ Ø¹Ù…Ù„ Ø±Ø³Ù… Ù…Ø±Ø­Ù„ØªÙŠÙ†. ÙŠÙ…ÙƒÙ† Ù„Ù„Ù…ÙƒÙˆÙÙ‘Ù†Ø§Øª Ø§Ù„ØªÙŠ ØªÙ‚ÙˆÙ… Ø¨Ø¹Ø±Ø¶ Ø´ÙŠØ¡ Ù…Ø®ØªÙ„Ù Ø¹Ù†Ø¯ Ø§Ù„Ø¹Ù…ÙŠÙ„ Ø£Ù† ØªÙ‚Ø±Ø£ Ù…ØªØºÙŠØ± [Ø§Ù„Ø­Ø§Ù„Ø©](/reference/react/useState) Ù…Ø«Ù„ `isClient` ØŒ Ø§Ù„Ø°ÙŠ ÙŠÙ…ÙƒÙ†Ùƒ ØªØ¹ÙŠÙŠÙ†Ù‡ Ø¹Ù„Ù‰ `true` ÙÙŠ [Ø§Ù„ØªØ£Ø«ÙŠØ±](/reference/react/useEffect):

<Sandpack>

```html public/index.html
<!--
  HTML content inside <div id="root">...</div>
  was generated from App by react-dom/server.
-->
<div id="root"><h1>Is Server</h1></div>
```

```js src/index.js
import './styles.css';
import { hydrateRoot } from 'react-dom/client';
import App from './App.js';

hydrateRoot(document.getElementById('root'), <App />);
```

```js src/App.js active
import { useState, useEffect } from "react";

export default function App() {
  const [isClient, setIsClient] = useState(false);

  useEffect(() => {
    setIsClient(true);
  }, []);

  return (
    <h1>
      {isClient ? 'Is Client' : 'Is Server'}
    </h1>
  );
}
```

</Sandpack>

Ø¨Ù‡Ø°Ù‡ Ø§Ù„Ø·Ø±ÙŠÙ‚Ø©ØŒ Ø³ØªÙ‚ÙˆÙ… Ø¹Ù…Ù„ÙŠØ© Ø§Ù„Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ø£ÙˆÙ„ÙŠØ© Ø¨ØªÙ‚Ø¯ÙŠÙ… Ù†ÙØ³ Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø°ÙŠ ØªÙ… ØªØ¬Ù‡ÙŠØ²Ù‡ Ø¹Ù„Ù‰ Ø§Ù„Ø®Ø§Ø¯Ù…ØŒ Ù…Ù…Ø§ ÙŠÙ…Ù†Ø¹ Ø­Ø¯ÙˆØ« Ø¹Ø¯Ù… Ø§Ù„ØªØ·Ø§Ø¨Ù‚ØŒ Ù„ÙƒÙ† Ø³ÙŠØ­Ø¯Ø« Ø¹Ø¨ÙˆØ± Ø¥Ø¶Ø§ÙÙŠ Ø¨Ø´ÙƒÙ„ Ù…ØªØ²Ø§Ù…Ù† Ù…Ø¨Ø§Ø´Ø±Ø© Ø¨Ø¹Ø¯ Ø§Ù„Ø±Ø¨Ø·.

<Pitfall>

Ù‡Ø°Ø§ Ø§Ù„Ù†Ù‡Ø¬ ÙŠØ¬Ø¹Ù„ Ø¹Ù…Ù„ÙŠØ© Ø§Ù„Ø±Ø¨Ø· Ø£Ø¨Ø·Ø£ Ù†Ø¸Ø±Ù‹Ø§ Ù„Ø§Ø¶Ø·Ø±Ø§Ø± Ù…ÙƒÙˆÙ†Ø§ØªÙƒ Ø¥Ù„Ù‰ Ø¹Ø±Ø¶ Ù†ÙØ³Ù‡Ø§ Ù…Ø±ØªÙŠÙ†. ÙƒÙ† Ø­Ø°Ø±Ù‹Ø§ Ù…Ù† ØªØ¬Ø±Ø¨Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø¹Ù„Ù‰ Ø§ØªØµØ§Ù„Ø§Øª Ø¨Ø·ÙŠØ¦Ø©. Ù‚Ø¯ ÙŠØªÙ… ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø£ÙƒÙˆØ§Ø¯ Ø§Ù„Ø¨Ø±Ù…Ø¬ÙŠØ© Ø¨Ø´ÙƒÙ„ ÙƒØ¨ÙŠØ± ÙÙŠ ÙˆÙ‚Øª Ù„Ø§Ø­Ù‚ Ù…Ù† Ø§Ù„Ø¹Ø±Ø¶ Ø§Ù„Ø£ÙˆÙ„ÙŠ Ù„Ù„ØµÙØ­Ø©ØŒ Ù„Ø°Ù„Ùƒ Ù‚Ø¯ ÙŠØ´Ø¹Ø± Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø£Ù† Ø§Ù„ØªØºÙŠÙŠØ± Ø¥Ù„Ù‰ ÙˆØ§Ø¬Ù‡Ø© Ù…Ø³ØªØ®Ø¯Ù… Ù…Ø®ØªÙ„ÙØ© Ù…Ø¨Ø§Ø´Ø±Ø© Ø¨Ø¹Ø¯ Ø§Ù„Ø±Ø¨Ø· Ù‚Ø¯ ÙŠÙƒÙˆÙ† Ù…ÙØ§Ø¬Ø¦Ù‹Ø§ Ù„Ù‡.

</Pitfall>

---

### ØªØ­Ø¯ÙŠØ« Ù…ÙƒÙˆÙ† Ø¬Ø°Ø±ÙŠ Ù…Ø±Ø¨ÙˆØ· {/*updating-a-hydrated-root-component*/}

Ø¨Ø¹Ø¯ Ø§Ù„Ø§Ù†ØªÙ‡Ø§Ø¡ Ù…Ù† Ø±Ø¨Ø· Ø§Ù„Ø¬Ø°Ø±ØŒ ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ø³ØªØ¯Ø¹Ø§Ø¡ [`root.render`](#root-render) Ù„ØªØ­Ø¯ÙŠØ« Ø¬Ø°Ø± Ù…ÙƒÙˆÙ† React. **Ø®Ù„Ø§ÙÙ‹Ø§ Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù… [`createRoot`](/reference/react-dom/client/createRoot)ØŒ Ø¹Ø§Ø¯Ø©Ù‹ Ù„Ù† ØªØ­ØªØ§Ø¬ Ø¥Ù„Ù‰ Ø§Ù„Ù‚ÙŠØ§Ù… Ø¨Ø°Ù„Ùƒ Ù„Ø£Ù† Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø£ÙˆÙ„ÙŠ ØªÙ… Ø¹Ø±Ø¶Ù‡ Ø¨Ø§Ù„ÙØ¹Ù„ ÙƒÙ€ HTML.**

Ø¥Ø°Ø§ Ø§Ø³ØªØ¯Ø¹ÙŠØª `root.render` ÙÙŠ ÙˆÙ‚Øª Ù…Ø§ Ø¨Ø¹Ø¯ Ø§Ù„Ø±Ø¨Ø·ØŒ ÙˆÙƒØ§Ù†Øª Ù‡ÙŠÙƒÙ„Ø© Ø´Ø¬Ø±Ø© Ø§Ù„Ù…ÙƒÙˆÙ†Ø§Øª Ù…ÙØ·Ø§Ø¨Ù‚Ø© Ù„Ù…Ø§ ØªÙ… Ø¹Ø±Ø¶Ù‡ Ø³Ø§Ø¨Ù‚Ù‹Ø§ØŒ Ø³ØªÙ‚ÙˆÙ… React [Ø¨Ø§Ù„Ø­ÙØ§Ø¸ Ø¹Ù„Ù‰ Ø§Ù„Ø­Ø§Ù„Ø©](/learn/preserving-and-resetting-state). Ù„Ø§Ø­Ø¸ ÙƒÙŠÙ ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ù„ÙƒØªØ§Ø¨Ø© ÙÙŠ Ø§Ù„Ø­Ù‚Ù„ØŒ Ù…Ù…Ø§ ÙŠØ¹Ù†ÙŠ Ø£Ù† Ø§Ù„ØªØ­Ø¯ÙŠØ«Ø§Øª Ù…Ù† Ø§Ø³ØªØ¯Ø¹Ø§Ø¡Ø§Øª `render` Ø§Ù„Ù…ØªÙƒØ±Ø±Ø© ÙƒÙ„ Ø«Ø§Ù†ÙŠØ© ÙÙŠ Ù‡Ø°Ø§ Ø§Ù„Ù…Ø«Ø§Ù„ Ù„Ø§ ØªØ¤Ø¯ÙŠ Ø¥Ù„Ù‰ ØªØ¯Ù…ÙŠØ± Ø§Ù„Ø­Ø§Ù„Ø©:

<Sandpack>

```html public/index.html
<!--
  HTML content inside <div id="root">...</div>
  was generated from App by react-dom/server.
-->
<div id="root"><h1>Ù…Ø±Ø­Ø¨Ù‹Ø§ Ø¨Ø§Ù„Ø¹Ø§Ù„Ù…! <!-- -->0</h1><input placeholder="Ø§ÙƒØªØ¨ Ø´ÙŠØ¦Ù‹Ø§ Ù‡Ù†Ø§"/></div>
```

```js src/index.js active
import { hydrateRoot } from 'react-dom/client';
import './styles.css';
import App from './App.js';

const root = hydrateRoot(
  document.getElementById('root'),
  <App counter={0} />
);

let i = 0;
setInterval(() => {
  root.render(<App counter={i} />);
  i++;
}, 1000);
```

```js src/App.js
export default function App({counter}) {
  return (
    <>
      <h1>Ù…Ø±Ø­Ø¨Ù‹Ø§ Ø¨Ø§Ù„Ø¹Ø§Ù„Ù…! {counter}</h1>
      <input placeholder="Ø§ÙƒØªØ¨ Ø´ÙŠØ¦Ù‹Ø§ Ù‡Ù†Ø§" />
    </>
  );
}
```

</Sandpack>

<<<<<<< HEAD
ØºØ§Ù„Ø¨Ù‹Ø§ Ù…Ø§ ÙŠÙƒÙˆÙ† Ø§Ø³ØªØ¯Ø¹Ø§Ø¡ [`root.render`](#root-render) Ø¹Ù„Ù‰ Ø¬Ø°Ø± Ù…Ø±Ø¨ÙˆØ· Ø£Ù…Ø±Ù‹Ø§ ØºÙŠØ± Ù…Ø¹ØªØ§Ø¯. Ø¹Ø§Ø¯Ø©Ù‹ØŒ Ø³ØªÙ‚ÙˆÙ… Ø¨Ù€[ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø­Ø§Ù„Ø©](/reference/react/useState) Ø¯Ø§Ø®Ù„ Ø£Ø­Ø¯ Ø§Ù„Ù…ÙƒÙˆÙ†Ø§Øª Ø¨Ø¯Ù„Ø§Ù‹ Ù…Ù† Ø°Ù„Ùƒ.
=======
It is uncommon to call [`root.render`](#root-render) on a hydrated root. Usually, you'll [update state](/reference/react/useState) inside one of the components instead.

### Show a dialog for uncaught errors {/*show-a-dialog-for-uncaught-errors*/}

<Canary>

`onUncaughtError` is only available in the latest React Canary release.

</Canary>

By default, React will log all uncaught errors to the console. To implement your own error reporting, you can provide the optional `onUncaughtError` root option:

```js [[1, 7, "onUncaughtError"], [2, 7, "error", 1], [3, 7, "errorInfo"], [4, 11, "componentStack"]]
import { hydrateRoot } from 'react-dom/client';

const root = hydrateRoot(
  document.getElementById('root'),
  <App />,
  {
    onUncaughtError: (error, errorInfo) => {
      console.error(
        'Uncaught error',
        error,
        errorInfo.componentStack
      );
    }
  }
);
root.render(<App />);
```

The <CodeStep step={1}>onUncaughtError</CodeStep> option is a function called with two arguments:

1. The <CodeStep step={2}>error</CodeStep> that was thrown.
2. An <CodeStep step={3}>errorInfo</CodeStep> object that contains the <CodeStep step={4}>componentStack</CodeStep> of the error.

You can use the `onUncaughtError` root option to display error dialogs:

<Sandpack>

```html index.html hidden
<!DOCTYPE html>
<html>
<head>
  <title>My app</title>
</head>
<body>
<!--
  Error dialog in raw HTML
  since an error in the React app may crash.
-->
<div id="error-dialog" class="hidden">
  <h1 id="error-title" class="text-red"></h1>
  <h3>
    <pre id="error-message"></pre>
  </h3>
  <p>
    <pre id="error-body"></pre>
  </p>
  <h4 class="-mb-20">This error occurred at:</h4>
  <pre id="error-component-stack" class="nowrap"></pre>
  <h4 class="mb-0">Call stack:</h4>
  <pre id="error-stack" class="nowrap"></pre>
  <div id="error-cause">
    <h4 class="mb-0">Caused by:</h4>
    <pre id="error-cause-message"></pre>
    <pre id="error-cause-stack" class="nowrap"></pre>
  </div>
  <button
    id="error-close"
    class="mb-10"
    onclick="document.getElementById('error-dialog').classList.add('hidden')"
  >
    Close
  </button>
  <h3 id="error-not-dismissible">This error is not dismissible.</h3>
</div>
<!--
  HTML content inside <div id="root">...</div>
  was generated from App by react-dom/server.
-->
<div id="root"><div><span>This error shows the error dialog:</span><button>Throw error</button></div></div>
</body>
</html>
```

```css src/styles.css active
label, button { display: block; margin-bottom: 20px; }
html, body { min-height: 300px; }

#error-dialog {
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  background-color: white;
  padding: 15px;
  opacity: 0.9;
  text-wrap: wrap;
  overflow: scroll;
}

.text-red {
  color: red;
}

.-mb-20 {
  margin-bottom: -20px;
}

.mb-0 {
  margin-bottom: 0;
}

.mb-10 {
  margin-bottom: 10px;
}

pre {
  text-wrap: wrap;
}

pre.nowrap {
  text-wrap: nowrap;
}

.hidden {
 display: none;  
}
```

```js src/reportError.js hidden
function reportError({ title, error, componentStack, dismissable }) {
  const errorDialog = document.getElementById("error-dialog");
  const errorTitle = document.getElementById("error-title");
  const errorMessage = document.getElementById("error-message");
  const errorBody = document.getElementById("error-body");
  const errorComponentStack = document.getElementById("error-component-stack");
  const errorStack = document.getElementById("error-stack");
  const errorClose = document.getElementById("error-close");
  const errorCause = document.getElementById("error-cause");
  const errorCauseMessage = document.getElementById("error-cause-message");
  const errorCauseStack = document.getElementById("error-cause-stack");
  const errorNotDismissible = document.getElementById("error-not-dismissible");
  
  // Set the title
  errorTitle.innerText = title;
  
  // Display error message and body
  const [heading, body] = error.message.split(/\n(.*)/s);
  errorMessage.innerText = heading;
  if (body) {
    errorBody.innerText = body;
  } else {
    errorBody.innerText = '';
  }

  // Display component stack
  errorComponentStack.innerText = componentStack;

  // Display the call stack
  // Since we already displayed the message, strip it, and the first Error: line.
  errorStack.innerText = error.stack.replace(error.message, '').split(/\n(.*)/s)[1];
  
  // Display the cause, if available
  if (error.cause) {
    errorCauseMessage.innerText = error.cause.message;
    errorCauseStack.innerText = error.cause.stack;
    errorCause.classList.remove('hidden');
  } else {
    errorCause.classList.add('hidden');
  }
  // Display the close button, if dismissible
  if (dismissable) {
    errorNotDismissible.classList.add('hidden');
    errorClose.classList.remove("hidden");
  } else {
    errorNotDismissible.classList.remove('hidden');
    errorClose.classList.add("hidden");
  }
  
  // Show the dialog
  errorDialog.classList.remove("hidden");
}

export function reportCaughtError({error, cause, componentStack}) {
  reportError({ title: "Caught Error", error, componentStack,  dismissable: true});
}

export function reportUncaughtError({error, cause, componentStack}) {
  reportError({ title: "Uncaught Error", error, componentStack, dismissable: false });
}

export function reportRecoverableError({error, cause, componentStack}) {
  reportError({ title: "Recoverable Error", error, componentStack,  dismissable: true });
}
```

```js src/index.js active
import { hydrateRoot } from "react-dom/client";
import App from "./App.js";
import {reportUncaughtError} from "./reportError";
import "./styles.css";
import {renderToString} from 'react-dom/server';

const container = document.getElementById("root");
const root = hydrateRoot(container, <App />, {
  onUncaughtError: (error, errorInfo) => {
    if (error.message !== 'Known error') {
      reportUncaughtError({
        error,
        componentStack: errorInfo.componentStack
      });
    }
  }
});
```

```js src/App.js
import { useState } from 'react';

export default function App() {
  const [throwError, setThrowError] = useState(false);
  
  if (throwError) {
    foo.bar = 'baz';
  }
  
  return (
    <div>
      <span>This error shows the error dialog:</span>
      <button onClick={() => setThrowError(true)}>
        Throw error
      </button>
    </div>
  );
}
```

```json package.json hidden
{
  "dependencies": {
    "react": "canary",
    "react-dom": "canary",
    "react-scripts": "^5.0.0"
  },
  "main": "/index.js"
}
```

</Sandpack>


### Displaying Error Boundary errors {/*displaying-error-boundary-errors*/}

<Canary>

`onCaughtError` is only available in the latest React Canary release.

</Canary>

By default, React will log all errors caught by an Error Boundary to `console.error`. To override this behavior, you can provide the optional `onCaughtError` root option for errors caught by an [Error Boundary](/reference/react/Component#catching-rendering-errors-with-an-error-boundary):

```js [[1, 7, "onCaughtError"], [2, 7, "error", 1], [3, 7, "errorInfo"], [4, 11, "componentStack"]]
import { hydrateRoot } from 'react-dom/client';

const root = hydrateRoot(
  document.getElementById('root'),
  <App />,
  {
    onCaughtError: (error, errorInfo) => {
      console.error(
        'Caught error',
        error,
        errorInfo.componentStack
      );
    }
  }
);
root.render(<App />);
```

The <CodeStep step={1}>onCaughtError</CodeStep> option is a function called with two arguments:

1. The <CodeStep step={2}>error</CodeStep> that was caught by the boundary.
2. An <CodeStep step={3}>errorInfo</CodeStep> object that contains the <CodeStep step={4}>componentStack</CodeStep> of the error.

You can use the `onCaughtError` root option to display error dialogs or filter known errors from logging:

<Sandpack>

```html index.html hidden
<!DOCTYPE html>
<html>
<head>
  <title>My app</title>
</head>
<body>
<!--
  Error dialog in raw HTML
  since an error in the React app may crash.
-->
<div id="error-dialog" class="hidden">
  <h1 id="error-title" class="text-red"></h1>
  <h3>
    <pre id="error-message"></pre>
  </h3>
  <p>
    <pre id="error-body"></pre>
  </p>
  <h4 class="-mb-20">This error occurred at:</h4>
  <pre id="error-component-stack" class="nowrap"></pre>
  <h4 class="mb-0">Call stack:</h4>
  <pre id="error-stack" class="nowrap"></pre>
  <div id="error-cause">
    <h4 class="mb-0">Caused by:</h4>
    <pre id="error-cause-message"></pre>
    <pre id="error-cause-stack" class="nowrap"></pre>
  </div>
  <button
    id="error-close"
    class="mb-10"
    onclick="document.getElementById('error-dialog').classList.add('hidden')"
  >
    Close
  </button>
  <h3 id="error-not-dismissible">This error is not dismissible.</h3>
</div>
<!--
  HTML content inside <div id="root">...</div>
  was generated from App by react-dom/server.
-->
<div id="root"><span>This error will not show the error dialog:</span><button>Throw known error</button><span>This error will show the error dialog:</span><button>Throw unknown error</button></div>
</body>
</html>
```

```css src/styles.css active
label, button { display: block; margin-bottom: 20px; }
html, body { min-height: 300px; }

#error-dialog {
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  background-color: white;
  padding: 15px;
  opacity: 0.9;
  text-wrap: wrap;
  overflow: scroll;
}

.text-red {
  color: red;
}

.-mb-20 {
  margin-bottom: -20px;
}

.mb-0 {
  margin-bottom: 0;
}

.mb-10 {
  margin-bottom: 10px;
}

pre {
  text-wrap: wrap;
}

pre.nowrap {
  text-wrap: nowrap;
}

.hidden {
 display: none;  
}
```

```js src/reportError.js hidden
function reportError({ title, error, componentStack, dismissable }) {
  const errorDialog = document.getElementById("error-dialog");
  const errorTitle = document.getElementById("error-title");
  const errorMessage = document.getElementById("error-message");
  const errorBody = document.getElementById("error-body");
  const errorComponentStack = document.getElementById("error-component-stack");
  const errorStack = document.getElementById("error-stack");
  const errorClose = document.getElementById("error-close");
  const errorCause = document.getElementById("error-cause");
  const errorCauseMessage = document.getElementById("error-cause-message");
  const errorCauseStack = document.getElementById("error-cause-stack");
  const errorNotDismissible = document.getElementById("error-not-dismissible");
  
  // Set the title
  errorTitle.innerText = title;
  
  // Display error message and body
  const [heading, body] = error.message.split(/\n(.*)/s);
  errorMessage.innerText = heading;
  if (body) {
    errorBody.innerText = body;
  } else {
    errorBody.innerText = '';
  }

  // Display component stack
  errorComponentStack.innerText = componentStack;

  // Display the call stack
  // Since we already displayed the message, strip it, and the first Error: line.
  errorStack.innerText = error.stack.replace(error.message, '').split(/\n(.*)/s)[1];
  
  // Display the cause, if available
  if (error.cause) {
    errorCauseMessage.innerText = error.cause.message;
    errorCauseStack.innerText = error.cause.stack;
    errorCause.classList.remove('hidden');
  } else {
    errorCause.classList.add('hidden');
  }
  // Display the close button, if dismissible
  if (dismissable) {
    errorNotDismissible.classList.add('hidden');
    errorClose.classList.remove("hidden");
  } else {
    errorNotDismissible.classList.remove('hidden');
    errorClose.classList.add("hidden");
  }
  
  // Show the dialog
  errorDialog.classList.remove("hidden");
}

export function reportCaughtError({error, cause, componentStack}) {
  reportError({ title: "Caught Error", error, componentStack,  dismissable: true});
}

export function reportUncaughtError({error, cause, componentStack}) {
  reportError({ title: "Uncaught Error", error, componentStack, dismissable: false });
}

export function reportRecoverableError({error, cause, componentStack}) {
  reportError({ title: "Recoverable Error", error, componentStack,  dismissable: true });
}
```

```js src/index.js active
import { hydrateRoot } from "react-dom/client";
import App from "./App.js";
import {reportCaughtError} from "./reportError";
import "./styles.css";

const container = document.getElementById("root");
const root = hydrateRoot(container, <App />, {
  onCaughtError: (error, errorInfo) => {
    if (error.message !== 'Known error') {
      reportCaughtError({
        error,
        componentStack: errorInfo.componentStack
      });
    }
  }
});
```

```js src/App.js
import { useState } from 'react';
import { ErrorBoundary } from "react-error-boundary";

export default function App() {
  const [error, setError] = useState(null);
  
  function handleUnknown() {
    setError("unknown");
  }

  function handleKnown() {
    setError("known");
  }
  
  return (
    <>
      <ErrorBoundary
        fallbackRender={fallbackRender}
        onReset={(details) => {
          setError(null);
        }}
      >
        {error != null && <Throw error={error} />}
        <span>This error will not show the error dialog:</span>
        <button onClick={handleKnown}>
          Throw known error
        </button>
        <span>This error will show the error dialog:</span>
        <button onClick={handleUnknown}>
          Throw unknown error
        </button>
      </ErrorBoundary>
      
    </>
  );
}

function fallbackRender({ resetErrorBoundary }) {
  return (
    <div role="alert">
      <h3>Error Boundary</h3>
      <p>Something went wrong.</p>
      <button onClick={resetErrorBoundary}>Reset</button>
    </div>
  );
}

function Throw({error}) {
  if (error === "known") {
    throw new Error('Known error')
  } else {
    foo.bar = 'baz';
  }
}
```

```json package.json hidden
{
  "dependencies": {
    "react": "canary",
    "react-dom": "canary",
    "react-scripts": "^5.0.0",
    "react-error-boundary": "4.0.3"
  },
  "main": "/index.js"
}
```

</Sandpack>

### Show a dialog for recoverable hydration mismatch errors {/*show-a-dialog-for-recoverable-hydration-mismatch-errors*/}

When React encounters a hydration mismatch, it will automatically attempt to recover by rendering on the client. By default, React will log hydration mismatch errors to `console.error`. To override this behavior, you can provide the optional `onRecoverableError` root option:

```js [[1, 7, "onRecoverableError"], [2, 7, "error", 1], [3, 11, "error.cause", 1], [4, 7, "errorInfo"], [5, 12, "componentStack"]]
import { hydrateRoot } from 'react-dom/client';

const root = hydrateRoot(
  document.getElementById('root'),
  <App />,
  {
    onRecoverableError: (error, errorInfo) => {
      console.error(
        'Caught error',
        error,
        error.cause,
        errorInfo.componentStack
      );
    }
  }
);
```

The <CodeStep step={1}>onRecoverableError</CodeStep> option is a function called with two arguments:

1. The <CodeStep step={2}>error</CodeStep> React throws. Some errors may include the original cause as <CodeStep step={3}>error.cause</CodeStep>.
2. An <CodeStep step={4}>errorInfo</CodeStep> object that contains the <CodeStep step={5}>componentStack</CodeStep> of the error.

You can use the `onRecoverableError` root option to display error dialogs for hydration mismatches:

<Sandpack>

```html index.html hidden
<!DOCTYPE html>
<html>
<head>
  <title>My app</title>
</head>
<body>
<!--
  Error dialog in raw HTML
  since an error in the React app may crash.
-->
<div id="error-dialog" class="hidden">
  <h1 id="error-title" class="text-red"></h1>
  <h3>
    <pre id="error-message"></pre>
  </h3>
  <p>
    <pre id="error-body"></pre>
  </p>
  <h4 class="-mb-20">This error occurred at:</h4>
  <pre id="error-component-stack" class="nowrap"></pre>
  <h4 class="mb-0">Call stack:</h4>
  <pre id="error-stack" class="nowrap"></pre>
  <div id="error-cause">
    <h4 class="mb-0">Caused by:</h4>
    <pre id="error-cause-message"></pre>
    <pre id="error-cause-stack" class="nowrap"></pre>
  </div>
  <button
    id="error-close"
    class="mb-10"
    onclick="document.getElementById('error-dialog').classList.add('hidden')"
  >
    Close
  </button>
  <h3 id="error-not-dismissible">This error is not dismissible.</h3>
</div>
<!--
  HTML content inside <div id="root">...</div>
  was generated from App by react-dom/server.
-->
<div id="root"><span>Server</span></div>
</body>
</html>
```

```css src/styles.css active
label, button { display: block; margin-bottom: 20px; }
html, body { min-height: 300px; }

#error-dialog {
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  background-color: white;
  padding: 15px;
  opacity: 0.9;
  text-wrap: wrap;
  overflow: scroll;
}

.text-red {
  color: red;
}

.-mb-20 {
  margin-bottom: -20px;
}

.mb-0 {
  margin-bottom: 0;
}

.mb-10 {
  margin-bottom: 10px;
}

pre {
  text-wrap: wrap;
}

pre.nowrap {
  text-wrap: nowrap;
}

.hidden {
 display: none;  
}
```

```js src/reportError.js hidden
function reportError({ title, error, componentStack, dismissable }) {
  const errorDialog = document.getElementById("error-dialog");
  const errorTitle = document.getElementById("error-title");
  const errorMessage = document.getElementById("error-message");
  const errorBody = document.getElementById("error-body");
  const errorComponentStack = document.getElementById("error-component-stack");
  const errorStack = document.getElementById("error-stack");
  const errorClose = document.getElementById("error-close");
  const errorCause = document.getElementById("error-cause");
  const errorCauseMessage = document.getElementById("error-cause-message");
  const errorCauseStack = document.getElementById("error-cause-stack");
  const errorNotDismissible = document.getElementById("error-not-dismissible");
  
  // Set the title
  errorTitle.innerText = title;
  
  // Display error message and body
  const [heading, body] = error.message.split(/\n(.*)/s);
  errorMessage.innerText = heading;
  if (body) {
    errorBody.innerText = body;
  } else {
    errorBody.innerText = '';
  }

  // Display component stack
  errorComponentStack.innerText = componentStack;

  // Display the call stack
  // Since we already displayed the message, strip it, and the first Error: line.
  errorStack.innerText = error.stack.replace(error.message, '').split(/\n(.*)/s)[1];
  
  // Display the cause, if available
  if (error.cause) {
    errorCauseMessage.innerText = error.cause.message;
    errorCauseStack.innerText = error.cause.stack;
    errorCause.classList.remove('hidden');
  } else {
    errorCause.classList.add('hidden');
  }
  // Display the close button, if dismissible
  if (dismissable) {
    errorNotDismissible.classList.add('hidden');
    errorClose.classList.remove("hidden");
  } else {
    errorNotDismissible.classList.remove('hidden');
    errorClose.classList.add("hidden");
  }
  
  // Show the dialog
  errorDialog.classList.remove("hidden");
}

export function reportCaughtError({error, cause, componentStack}) {
  reportError({ title: "Caught Error", error, componentStack,  dismissable: true});
}

export function reportUncaughtError({error, cause, componentStack}) {
  reportError({ title: "Uncaught Error", error, componentStack, dismissable: false });
}

export function reportRecoverableError({error, cause, componentStack}) {
  reportError({ title: "Recoverable Error", error, componentStack,  dismissable: true });
}
```

```js src/index.js active
import { hydrateRoot } from "react-dom/client";
import App from "./App.js";
import {reportRecoverableError} from "./reportError";
import "./styles.css";

const container = document.getElementById("root");
const root = hydrateRoot(container, <App />, {
  onRecoverableError: (error, errorInfo) => {
    reportRecoverableError({
      error,
      cause: error.cause,
      componentStack: errorInfo.componentStack
    });
  }
});
```

```js src/App.js
import { useState } from 'react';
import { ErrorBoundary } from "react-error-boundary";

export default function App() {
  const [error, setError] = useState(null);
  
  function handleUnknown() {
    setError("unknown");
  }

  function handleKnown() {
    setError("known");
  }
  
  return (
    <span>{typeof window !== 'undefined' ? 'Client' : 'Server'}</span>
  );
}

function fallbackRender({ resetErrorBoundary }) {
  return (
    <div role="alert">
      <h3>Error Boundary</h3>
      <p>Something went wrong.</p>
      <button onClick={resetErrorBoundary}>Reset</button>
    </div>
  );
}

function Throw({error}) {
  if (error === "known") {
    throw new Error('Known error')
  } else {
    foo.bar = 'baz';
  }
}
```

```json package.json hidden
{
  "dependencies": {
    "react": "canary",
    "react-dom": "canary",
    "react-scripts": "^5.0.0",
    "react-error-boundary": "4.0.3"
  },
  "main": "/index.js"
}
```

</Sandpack>

## Troubleshooting {/*troubleshooting*/}


### I'm getting an error: "You passed a second argument to root.render" {/*im-getting-an-error-you-passed-a-second-argument-to-root-render*/}

A common mistake is to pass the options for `hydrateRoot` to `root.render(...)`:

<ConsoleBlock level="error">

Warning: You passed a second argument to root.render(...) but it only accepts one argument.

</ConsoleBlock>

To fix, pass the root options to `hydrateRoot(...)`, not `root.render(...)`:
```js {2,5}
// ğŸš© Wrong: root.render only takes one argument.
root.render(App, {onUncaughtError});

// âœ… Correct: pass options to createRoot.
const root = hydrateRoot(container, <App />, {onUncaughtError});
```
>>>>>>> 556063bdce0ed00f29824bc628f79dac0a4be9f4
